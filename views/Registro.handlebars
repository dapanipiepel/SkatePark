<h1>Skate Park</h1>

<div class="py-4">
  <h2>Registro</h2>
  <hr class="w-50" />

  <form>
    <div class="form-group row w-50 m-auto">
      <div class="form-group col-12 col-sm-6">
        <label>Email</label>
        <input class="form-control m-auto" id="mail" name='mail'/>
      </div>
      <div class="form-group col-12 col-sm-6">
        <label>Nombre</label>
        <input class="form-control m-auto" id="name" name='name'/>
      </div>
      <div class="form-group col-12 col-sm-6">
        <label>Password</label>
        <input class="form-control m-auto" id="pw" name='pw'/>
      </div>
      <div class="form-group col-12 col-sm-6">
        <label>Repita la password</label>
        <input class="form-control m-auto" />
      </div>
      <div class="form-group col-12 col-sm-6">
        <label>Años de experiencia</label>
        <input class="form-control m-auto" id="experiencia" name='experiencia' />
      </div>
      <div class="form-group col-12 col-sm-6">
        <label>Especialidad</label>
        <input class="form-control m-auto" id="especialidad" name='especialidad'/>
      </div>
      <div class="form-group col-12 col-sm-12">
        <label>Foto de perfil</label>
        <input type="file" id="foto" name='foto'/>
      </div>
    </div>
    <button class="btn btn-info mb-3" id="btnRegistrar">Registrarme</button>
    <p><a href="/login"> Iniciar sesión</a></p>
  </form>
</div>

<script>
  const form = document.querySelector('form');
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const datosFormulario = new FormData(form);
    
    try { 
      await axios.post('/register', datosFormulario, {
        Headers: { 'Content-Type': 'multipart/form-data'}
      });
      //if(registrar)
      window.location.href = '/';
    } catch (error) {
      console.log(error);
      alert('Hubo un errorcete', error);//throw no se usa
    }
  })
</script>